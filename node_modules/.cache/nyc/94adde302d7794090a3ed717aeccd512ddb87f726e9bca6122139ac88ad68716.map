{"version":3,"sources":["Message.js"],"names":["Message","create","req","res","body","subject","message","parentMessageId","status","send","MessageModel","getAll","messages","findAll","getOne","findOne","params","id","getUnread","findMessages","getSent","delete","mes"],"mappings":"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","sourceRoot":"/home/giraict/Project/andela/EPICmail/server/controllers","sourcesContent":["import MessageModel from '../models/Message';\n\nconst Message = {\n  /**\n   * \n   * @param {object} req \n   * @param {object} res\n   * @returns {object} message object \n   */\n  create(req, res) {\n    if (!req.body.subject && !req.body.message && !req.body.parentMessageId && !req.body.status) {\n     \n      return res.status(400).send({'message': 'All fields are required'})\n    }\n    const message = MessageModel.create(req.body);\n    return res.status(201).send(message);\n  },\n  /**\n   * \n   * @param {object} req \n   * @param {object} res \n   * @returns {object} messages array\n   */\n  getAll(req, res) {\n    const messages = MessageModel.findAll();\n    return res.status(200).send(messages);\n  },\n  /**\n   * \n   * @param {object} req \n   * @param {object} res\n   * @returns {object} message object\n   */\n  getOne(req, res) {\n    const message = MessageModel.findOne(req.params.id);\n    if (!message) {\n      return res.status(400).send({'message': 'message not found'});\n    }\n    return res.status(200).send(message);\n  },\n  /**\n   * \n   * @param {object} req \n   * @param {object} res\n   * @returns {object} message object\n   */\n  getUnread(req, res) {\n    const messages = MessageModel.findMessages('Unread');\n    if (!messages) {\n      return res.status(400).send({'message': 'message not found'});\n    }\n    return res.status(200).send(messages);\n  },\n  /**\n   * \n   * @param {object} req \n   * @param {object} res\n   * @returns {object} message object\n   */\n  getSent(req, res) {\n    const messages = MessageModel.findMessages('Sent');\n    if (!messages) {\n      return res.status(400).send({'message': 'message not found'});\n    }\n    return res.status(200).send(messages);\n  },\n  /**\n   * \n   * @param {object} req \n   * @param {object} res \n   * @returns {void} return statuc code 204 \n   */\n  delete(req, res) {\n    const message = MessageModel.findOne(req.params.id);\n    if (!message) {\n      return res.status(404).send({'message': 'message not found'});\n    }\n    const mes = MessageModel.delete(req.params.id);\n    return res.status(200).send(mes);\n  }\n}\n\nexport default Message;\n"]}