{"version":3,"sources":["Message.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_moment","require","_moment2","_interopRequireDefault","_uuid","_uuid2","_async","_async2","obj","__esModule","default","_classCallCheck","instance","TypeError","Message","messages","create","data","newMessage","id","v4","subject","message","parentMessageId","status","createdOn","now","push","findOne","find","mess","findMessages","readMsgs","eachSeries","current","cb","err","findAll","_delete","index","indexOf","splice"],"mappings":"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","file":"Message.js","sourceRoot":"/home/giraict/Project/andela/EPICmail/build/models","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _uuid = require('uuid');\n\nvar _uuid2 = _interopRequireDefault(_uuid);\n\nvar _async = require('async');\n\nvar _async2 = _interopRequireDefault(_async);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Message = function () {\n  /**\n   * class constructor\n   * @param {object} data\n   */\n  function Message() {\n    _classCallCheck(this, Message);\n\n    this.messages = [{\n      \"id\": \"ae0f724b-8f6d-4234-877a-1848ca412f41\",\n      \"subject\": \"Hi\",\n      \"message\": \"cn ufjv dk\",\n      \"parentMessageId\": \"KALISA\",\n      \"status\": \"Unread\",\n      \"createdOn\": 1551871527723\n    }, {\n      \"id\": \"d1081ada-49d5-4a0a-b97e-e10b85ba68eb\",\n      \"subject\": \"Test\",\n      \"message\": \"I will came\",\n      \"parentMessageId\": \"344\",\n      \"status\": \"Sent\",\n      \"createdOn\": 1551871605364\n    }];\n  }\n  /**\n   * \n   * @returns {object} message object\n   */\n\n\n  _createClass(Message, [{\n    key: 'create',\n    value: function create(data) {\n      var newMessage = {\n        id: _uuid2.default.v4(),\n        subject: data.subject || '',\n        message: data.message || '',\n        parentMessageId: data.parentMessageId || '',\n        status: data.status || '',\n        createdOn: _moment2.default.now()\n      };\n      this.messages.push(newMessage);\n      return newMessage;\n    }\n    /**\n     * \n     * @param {uuid} id\n     * @returns {object} message object\n     */\n\n  }, {\n    key: 'findOne',\n    value: function findOne(id) {\n      return this.messages.find(function (mess) {\n        return mess.id === id;\n      });\n    }\n  }, {\n    key: 'findMessages',\n    value: function findMessages(status) {\n      var readMsgs = [];\n      _async2.default.eachSeries(this.messages, function (current, cb) {\n        if (current.status == status) readMsgs.push(current);\n        cb(null);\n      }, function (err) {});\n      return readMsgs;\n    }\n    /**\n     * @returns {object} returns all messages\n     */\n\n  }, {\n    key: 'findAll',\n    value: function findAll() {\n      return this.messages;\n    }\n\n    /**\n     * \n     * @param {uuid} id \n     */\n\n  }, {\n    key: 'delete',\n    value: function _delete(id) {\n      var message = this.findOne(id);\n      var index = this.messages.indexOf(message);\n      this.messages.splice(index, 1);\n      return {};\n    }\n  }]);\n\n  return Message;\n}();\n\nexports.default = new Message();"]}