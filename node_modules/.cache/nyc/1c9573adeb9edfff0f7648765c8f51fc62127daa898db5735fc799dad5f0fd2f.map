{"version":3,"sources":["test.js"],"names":["chai","use","chaiHttp","should","describe","it","done","request","server","get","end","err","res","body","be","a","data","messages","subject","message","parentMessageId","status","createdOn","save","delete","id","have","property","eql","result"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;;;AACAA,cAAKC,GAAL,CAASC,iBAAT;;AACAF,cAAKG,MAAL;AAGA;;;;;AAGCC,QAAQ,CAAC,eAAD,EAAkB,YAAM;AAC7BC,EAAAA,EAAE,CAAC,mCAAD,EAAsC,UAACC,IAAD,EAAU;AAChDN,kBAAKO,OAAL,CAAaC,eAAb,EACKC,GADL,CACS,kBADT,EAEKC,GAFL,CAES,UAACC,GAAD,EAAMC,GAAN,EAAc;AACbA,MAAAA,GAAG,CAACC,IAAJ,CAASV,MAAT,CAAgBW,EAAhB,CAAmBC,CAAnB,CAAqB,OAArB;AACJT,MAAAA,IAAI;AACL,KALL;AAMD,GAPC,CAAF;AAQH,CATQ,CAAR;AAWDF,QAAQ,CAAC,sBAAD,EAAyB,YAAM;AACrCC,EAAAA,EAAE,CAAC,mCAAD,EAAsC,UAACC,IAAD,EAAU;AAChDN,kBAAKO,OAAL,CAAaC,eAAb,EACKC,GADL,CACS,yBADT,EAEKC,GAFL,CAES,UAACC,GAAD,EAAMC,GAAN,EAAc;AACbA,MAAAA,GAAG,CAACC,IAAJ,CAASV,MAAT,CAAgBW,EAAhB,CAAmBC,CAAnB,CAAqB,OAArB;AACJT,MAAAA,IAAI;AACL,KALL;AAMD,GAPC,CAAF;AAQD,CATO,CAAR;AAWAF,QAAQ,CAAC,oBAAD,EAAuB,YAAM;AACnCC,EAAAA,EAAE,CAAC,iCAAD,EAAoC,UAACC,IAAD,EAAU;AAC9CN,kBAAKO,OAAL,CAAaC,eAAb,EACKC,GADL,CACS,uBADT,EAEKC,GAFL,CAES,UAACC,GAAD,EAAMC,GAAN,EAAc;AACbA,MAAAA,GAAG,CAACC,IAAJ,CAASV,MAAT,CAAgBW,EAAhB,CAAmBC,CAAnB,CAAqB,OAArB;AACJT,MAAAA,IAAI;AACL,KALL;AAMD,GAPC,CAAF;AAQD,CATO,CAAR;AAWA;;;;AAME;;;;AAGDF,QAAQ,CAAC,qBAAD,EAAwB,YAAM;AACrCC,EAAAA,EAAE,CAAC,yCAAD,EAA4C,UAACC,IAAD,EAAU;AACpD,QAAIU,IAAI,GAAG,IAAIC,QAAJ,CAAa;AAACC,MAAAA,OAAO,EAAE,UAAV;AAAsBC,MAAAA,OAAO,EAAE,wCAA/B;AAAyEC,MAAAA,eAAe,EAAE,WAA1F;AAAuGC,MAAAA,MAAM,EAAE,MAA/G;AAAuHC,MAAAA,SAAS,EAAE;AAAlI,KAAb,CAAX;AAKAN,IAAAA,IAAI,CAACO,IAAL,CAAU,UAACZ,GAAD,EAAMK,IAAN,EAAe;AACnBhB,oBAAKO,OAAL,CAAaC,eAAb,EACCgB,MADD,CACQ,sBAAsBC,EAD9B,EAECf,GAFD,CAEK,UAACC,GAAD,EAAMC,GAAN,EAAc;AACbA,QAAAA,GAAG,CAACT,MAAJ,CAAWuB,IAAX,CAAgBL,MAAhB,CAAuB,GAAvB;AACAT,QAAAA,GAAG,CAACC,IAAJ,CAASV,MAAT,CAAgBW,EAAhB,CAAmBC,CAAnB,CAAqB,QAArB;AACAH,QAAAA,GAAG,CAACC,IAAJ,CAASV,MAAT,CAAgBuB,IAAhB,CAAqBC,QAArB,CAA8B,SAA9B,EAAyCC,GAAzC,CAA6C,+BAA7C;AACAhB,QAAAA,GAAG,CAACC,IAAJ,CAASgB,MAAT,CAAgB1B,MAAhB,CAAuBuB,IAAvB,CAA4BC,QAA5B,CAAqC,IAArC,EAA2CC,GAA3C,CAA+C,CAA/C;AACAhB,QAAAA,GAAG,CAACC,IAAJ,CAASgB,MAAT,CAAgB1B,MAAhB,CAAuBuB,IAAvB,CAA4BC,QAA5B,CAAqC,GAArC,EAA0CC,GAA1C,CAA8C,CAA9C;AACJtB,QAAAA,IAAI;AACL,OATD;AAUL,KAXD;AAYH,GAlBC,CAAF;AAmBD,CApBQ,CAAR","sourceRoot":"/home/giraict/Project/andela/EPICmail/server/tests","sourcesContent":["import chai from 'chai';\nimport chaiHttp from 'chai-http';\nimport server from '../server';\nimport Message from '../controllers/Message';\nchai.use(chaiHttp);\nchai.should();\n\n\n/*\n  * Test the /GET route\n  */\n describe('/Get messages', () => {\n    it('it should GET all emails/messages', (done) => {\n      chai.request(server)\n          .get('/api/v1/messages')\n          .end((err, res) => {\n                res.body.should.be.a('array');\n            done();\n          });\n    });\n});\n\ndescribe('/Get Unread messages', () => {\n  it('it should GET all Unread messages', (done) => {\n    chai.request(server)\n        .get('/api/v1/messages/unread')\n        .end((err, res) => {\n              res.body.should.be.a('array');\n          done();\n        });\n  });\n});\n\ndescribe('/Get Sent messages', () => {\n  it('it should GET all Sent messages', (done) => {\n    chai.request(server)\n        .get('/api/v1/messages/sent')\n        .end((err, res) => {\n              res.body.should.be.a('array');\n          done();\n        });\n  });\n});\n\n/*\n  * Test the /POST\n  */\n \n\n\n  /*\n  * Test the /DELETE/:id route\n  */\n describe('/DELETE/:id message', () => {\n  it('it should DELETE a message given the id', (done) => {\n      let data = new messages({subject: \"BootCamp\", message: \"Tomorrow will be a boot camp of andela\", parentMessageId: \"556665665\", status: \"Sent\", createdOn: 1552243727849})\n\n        \n\n     \n      data.save((err, data) => {\n            chai.request(server)\n            .delete('/api/v1/messages/' + id)\n            .end((err, res) => {\n                  res.should.have.status(200);\n                  res.body.should.be.a('object');\n                  res.body.should.have.property('message').eql('Message successfully deleted!');\n                  res.body.result.should.have.property('ok').eql(1);\n                  res.body.result.should.have.property('n').eql(1);\n              done();\n            });\n      });\n  });\n});"]}