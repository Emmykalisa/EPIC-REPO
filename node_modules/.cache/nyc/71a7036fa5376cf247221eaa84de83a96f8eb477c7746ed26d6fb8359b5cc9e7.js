'use strict';var cov_yajqh1etx=function(){var path="/home/giraict/Project/andela/EPICmail/build/models/Message.js";var hash="c8eb70ea7f5d7174cb7216872bc65c0ae6f6f766";var Function=function(){}.constructor;var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/giraict/Project/andela/EPICmail/build/models/Message.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:7,column:19},end:{line:15,column:3}},"2":{start:{line:9,column:4},end:{line:11,column:5}},"3":{start:{line:9,column:17},end:{line:9,column:18}},"4":{start:{line:10,column:23},end:{line:10,column:31}},"5":{start:{line:10,column:32},end:{line:10,column:87}},"6":{start:{line:10,column:87},end:{line:10,column:118}},"7":{start:{line:10,column:118},end:{line:10,column:172}},"8":{start:{line:10,column:145},end:{line:10,column:172}},"9":{start:{line:10,column:172},end:{line:10,column:230}},"10":{start:{line:12,column:3},end:{line:14,column:4}},"11":{start:{line:13,column:4},end:{line:13,column:72}},"12":{start:{line:13,column:20},end:{line:13,column:72}},"13":{start:{line:13,column:72},end:{line:13,column:132}},"14":{start:{line:13,column:89},end:{line:13,column:132}},"15":{start:{line:13,column:132},end:{line:13,column:151}},"16":{start:{line:17,column:14},end:{line:17,column:31}},"17":{start:{line:19,column:15},end:{line:19,column:46}},"18":{start:{line:21,column:12},end:{line:21,column:27}},"19":{start:{line:23,column:13},end:{line:23,column:42}},"20":{start:{line:25,column:13},end:{line:25,column:29}},"21":{start:{line:27,column:14},end:{line:27,column:44}},"22":{start:{line:30,column:2},end:{line:30,column:56}},"23":{start:{line:34,column:2},end:{line:36,column:3}},"24":{start:{line:35,column:4},end:{line:35,column:61}},"25":{start:{line:39,column:14},end:{line:131,column:3}},"26":{start:{line:45,column:4},end:{line:45,column:35}},"27":{start:{line:47,column:4},end:{line:61,column:7}},"28":{start:{line:68,column:2},end:{line:128,column:6}},"29":{start:{line:71,column:23},end:{line:78,column:7}},"30":{start:{line:79,column:6},end:{line:79,column:37}},"31":{start:{line:80,column:6},end:{line:80,column:24}},"32":{start:{line:91,column:6},end:{line:93,column:9}},"33":{start:{line:92,column:8},end:{line:92,column:30}},"34":{start:{line:98,column:21},end:{line:98,column:23}},"35":{start:{line:99,column:6},end:{line:102,column:28}},"36":{start:{line:100,column:8},end:{line:100,column:61}},"37":{start:{line:100,column:38},end:{line:100,column:61}},"38":{start:{line:101,column:8},end:{line:101,column:17}},"39":{start:{line:103,column:6},end:{line:103,column:22}},"40":{start:{line:112,column:6},end:{line:112,column:27}},"41":{start:{line:123,column:20},end:{line:123,column:36}},"42":{start:{line:124,column:18},end:{line:124,column:48}},"43":{start:{line:125,column:6},end:{line:125,column:37}},"44":{start:{line:126,column:6},end:{line:126,column:16}},"45":{start:{line:130,column:2},end:{line:130,column:17}},"46":{start:{line:133,column:0},end:{line:133,column:32}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:7,column:19},end:{line:7,column:20}},loc:{start:{line:7,column:31},end:{line:15,column:1}},line:7},"1":{name:"defineProperties",decl:{start:{line:8,column:11},end:{line:8,column:27}},loc:{start:{line:8,column:43},end:{line:12,column:3}},line:8},"2":{name:"(anonymous_2)",decl:{start:{line:12,column:10},end:{line:12,column:11}},loc:{start:{line:12,column:58},end:{line:14,column:3}},line:12},"3":{name:"_interopRequireDefault",decl:{start:{line:29,column:9},end:{line:29,column:31}},loc:{start:{line:29,column:37},end:{line:31,column:1}},line:29},"4":{name:"_classCallCheck",decl:{start:{line:33,column:9},end:{line:33,column:24}},loc:{start:{line:33,column:48},end:{line:37,column:1}},line:33},"5":{name:"(anonymous_5)",decl:{start:{line:39,column:14},end:{line:39,column:15}},loc:{start:{line:39,column:26},end:{line:131,column:1}},line:39},"6":{name:"Message",decl:{start:{line:44,column:11},end:{line:44,column:18}},loc:{start:{line:44,column:21},end:{line:62,column:3}},line:44},"7":{name:"create",decl:{start:{line:70,column:20},end:{line:70,column:26}},loc:{start:{line:70,column:33},end:{line:81,column:5}},line:70},"8":{name:"findOne",decl:{start:{line:90,column:20},end:{line:90,column:27}},loc:{start:{line:90,column:32},end:{line:94,column:5}},line:90},"9":{name:"(anonymous_9)",decl:{start:{line:91,column:32},end:{line:91,column:33}},loc:{start:{line:91,column:48},end:{line:93,column:7}},line:91},"10":{name:"findMessages",decl:{start:{line:97,column:20},end:{line:97,column:32}},loc:{start:{line:97,column:41},end:{line:104,column:5}},line:97},"11":{name:"(anonymous_11)",decl:{start:{line:99,column:48},end:{line:99,column:49}},loc:{start:{line:99,column:71},end:{line:102,column:7}},line:99},"12":{name:"(anonymous_12)",decl:{start:{line:102,column:9},end:{line:102,column:10}},loc:{start:{line:102,column:24},end:{line:102,column:26}},line:102},"13":{name:"findAll",decl:{start:{line:111,column:20},end:{line:111,column:27}},loc:{start:{line:111,column:30},end:{line:113,column:5}},line:111},"14":{name:"_delete",decl:{start:{line:122,column:20},end:{line:122,column:27}},loc:{start:{line:122,column:32},end:{line:127,column:5}},line:122}},branchMap:{"0":{loc:{start:{line:10,column:56},end:{line:10,column:86}},type:"binary-expr",locations:[{start:{line:10,column:56},end:{line:10,column:77}},{start:{line:10,column:81},end:{line:10,column:86}}],line:10},"1":{loc:{start:{line:10,column:118},end:{line:10,column:172}},type:"if",locations:[{start:{line:10,column:118},end:{line:10,column:172}},{start:{line:10,column:118},end:{line:10,column:172}}],line:10},"2":{loc:{start:{line:13,column:4},end:{line:13,column:72}},type:"if",locations:[{start:{line:13,column:4},end:{line:13,column:72}},{start:{line:13,column:4},end:{line:13,column:72}}],line:13},"3":{loc:{start:{line:13,column:72},end:{line:13,column:132}},type:"if",locations:[{start:{line:13,column:72},end:{line:13,column:132}},{start:{line:13,column:72},end:{line:13,column:132}}],line:13},"4":{loc:{start:{line:30,column:9},end:{line:30,column:55}},type:"cond-expr",locations:[{start:{line:30,column:33},end:{line:30,column:36}},{start:{line:30,column:39},end:{line:30,column:55}}],line:30},"5":{loc:{start:{line:30,column:9},end:{line:30,column:30}},type:"binary-expr",locations:[{start:{line:30,column:9},end:{line:30,column:12}},{start:{line:30,column:16},end:{line:30,column:30}}],line:30},"6":{loc:{start:{line:34,column:2},end:{line:36,column:3}},type:"if",locations:[{start:{line:34,column:2},end:{line:36,column:3}},{start:{line:34,column:2},end:{line:36,column:3}}],line:34},"7":{loc:{start:{line:73,column:17},end:{line:73,column:35}},type:"binary-expr",locations:[{start:{line:73,column:17},end:{line:73,column:29}},{start:{line:73,column:33},end:{line:73,column:35}}],line:73},"8":{loc:{start:{line:74,column:17},end:{line:74,column:35}},type:"binary-expr",locations:[{start:{line:74,column:17},end:{line:74,column:29}},{start:{line:74,column:33},end:{line:74,column:35}}],line:74},"9":{loc:{start:{line:75,column:25},end:{line:75,column:51}},type:"binary-expr",locations:[{start:{line:75,column:25},end:{line:75,column:45}},{start:{line:75,column:49},end:{line:75,column:51}}],line:75},"10":{loc:{start:{line:76,column:16},end:{line:76,column:33}},type:"binary-expr",locations:[{start:{line:76,column:16},end:{line:76,column:27}},{start:{line:76,column:31},end:{line:76,column:33}}],line:76},"11":{loc:{start:{line:100,column:8},end:{line:100,column:61}},type:"if",locations:[{start:{line:100,column:8},end:{line:100,column:61}},{start:{line:100,column:8},end:{line:100,column:61}}],line:100}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_yajqh1etx.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});var _createClass=(cov_yajqh1etx.s[1]++,function(){cov_yajqh1etx.f[0]++;function defineProperties(target,props){cov_yajqh1etx.f[1]++;cov_yajqh1etx.s[2]++;for(var i=(cov_yajqh1etx.s[3]++,0);i<props.length;i++){var descriptor=(cov_yajqh1etx.s[4]++,props[i]);cov_yajqh1etx.s[5]++;descriptor.enumerable=(cov_yajqh1etx.b[0][0]++,descriptor.enumerable)||(cov_yajqh1etx.b[0][1]++,false);cov_yajqh1etx.s[6]++;descriptor.configurable=true;cov_yajqh1etx.s[7]++;if("value"in descriptor){cov_yajqh1etx.b[1][0]++;cov_yajqh1etx.s[8]++;descriptor.writable=true;}else{cov_yajqh1etx.b[1][1]++;}cov_yajqh1etx.s[9]++;Object.defineProperty(target,descriptor.key,descriptor);}}cov_yajqh1etx.s[10]++;return function(Constructor,protoProps,staticProps){cov_yajqh1etx.f[2]++;cov_yajqh1etx.s[11]++;if(protoProps){cov_yajqh1etx.b[2][0]++;cov_yajqh1etx.s[12]++;defineProperties(Constructor.prototype,protoProps);}else{cov_yajqh1etx.b[2][1]++;}cov_yajqh1etx.s[13]++;if(staticProps){cov_yajqh1etx.b[3][0]++;cov_yajqh1etx.s[14]++;defineProperties(Constructor,staticProps);}else{cov_yajqh1etx.b[3][1]++;}cov_yajqh1etx.s[15]++;return Constructor;};}());var _moment=(cov_yajqh1etx.s[16]++,require('moment'));var _moment2=(cov_yajqh1etx.s[17]++,_interopRequireDefault(_moment));var _uuid=(cov_yajqh1etx.s[18]++,require('uuid'));var _uuid2=(cov_yajqh1etx.s[19]++,_interopRequireDefault(_uuid));var _async=(cov_yajqh1etx.s[20]++,require('async'));var _async2=(cov_yajqh1etx.s[21]++,_interopRequireDefault(_async));function _interopRequireDefault(obj){cov_yajqh1etx.f[3]++;cov_yajqh1etx.s[22]++;return(cov_yajqh1etx.b[5][0]++,obj)&&(cov_yajqh1etx.b[5][1]++,obj.__esModule)?(cov_yajqh1etx.b[4][0]++,obj):(cov_yajqh1etx.b[4][1]++,{default:obj});}function _classCallCheck(instance,Constructor){cov_yajqh1etx.f[4]++;cov_yajqh1etx.s[23]++;if(!(instance instanceof Constructor)){cov_yajqh1etx.b[6][0]++;cov_yajqh1etx.s[24]++;throw new TypeError("Cannot call a class as a function");}else{cov_yajqh1etx.b[6][1]++;}}var Message=(cov_yajqh1etx.s[25]++,function(){cov_yajqh1etx.f[5]++;/**
   * class constructor
   * @param {object} data
   */function Message(){cov_yajqh1etx.f[6]++;cov_yajqh1etx.s[26]++;_classCallCheck(this,Message);cov_yajqh1etx.s[27]++;this.messages=[{"id":"ae0f724b-8f6d-4234-877a-1848ca412f41","subject":"Hi","message":"cn ufjv dk","parentMessageId":"KALISA","status":"Unread","createdOn":1551871527723},{"id":"d1081ada-49d5-4a0a-b97e-e10b85ba68eb","subject":"Test","message":"I will came","parentMessageId":"344","status":"Sent","createdOn":1551871605364}];}/**
   * 
   * @returns {object} message object
   */cov_yajqh1etx.s[28]++;_createClass(Message,[{key:'create',value:function create(data){cov_yajqh1etx.f[7]++;var newMessage=(cov_yajqh1etx.s[29]++,{id:_uuid2.default.v4(),subject:(cov_yajqh1etx.b[7][0]++,data.subject)||(cov_yajqh1etx.b[7][1]++,''),message:(cov_yajqh1etx.b[8][0]++,data.message)||(cov_yajqh1etx.b[8][1]++,''),parentMessageId:(cov_yajqh1etx.b[9][0]++,data.parentMessageId)||(cov_yajqh1etx.b[9][1]++,''),status:(cov_yajqh1etx.b[10][0]++,data.status)||(cov_yajqh1etx.b[10][1]++,''),createdOn:_moment2.default.now()});cov_yajqh1etx.s[30]++;this.messages.push(newMessage);cov_yajqh1etx.s[31]++;return newMessage;}/**
     * 
     * @param {uuid} id
     * @returns {object} message object
     */},{key:'findOne',value:function findOne(id){cov_yajqh1etx.f[8]++;cov_yajqh1etx.s[32]++;return this.messages.find(function(mess){cov_yajqh1etx.f[9]++;cov_yajqh1etx.s[33]++;return mess.id===id;});}},{key:'findMessages',value:function findMessages(status){cov_yajqh1etx.f[10]++;var readMsgs=(cov_yajqh1etx.s[34]++,[]);cov_yajqh1etx.s[35]++;_async2.default.eachSeries(this.messages,function(current,cb){cov_yajqh1etx.f[11]++;cov_yajqh1etx.s[36]++;if(current.status==status){cov_yajqh1etx.b[11][0]++;cov_yajqh1etx.s[37]++;readMsgs.push(current);}else{cov_yajqh1etx.b[11][1]++;}cov_yajqh1etx.s[38]++;cb(null);},function(err){cov_yajqh1etx.f[12]++;});cov_yajqh1etx.s[39]++;return readMsgs;}/**
     * @returns {object} returns all messages
     */},{key:'findAll',value:function findAll(){cov_yajqh1etx.f[13]++;cov_yajqh1etx.s[40]++;return this.messages;}/**
     * 
     * @param {uuid} id 
     */},{key:'delete',value:function _delete(id){cov_yajqh1etx.f[14]++;var message=(cov_yajqh1etx.s[41]++,this.findOne(id));var index=(cov_yajqh1etx.s[42]++,this.messages.indexOf(message));cov_yajqh1etx.s[43]++;this.messages.splice(index,1);cov_yajqh1etx.s[44]++;return{};}}]);cov_yajqh1etx.s[45]++;return Message;}());cov_yajqh1etx.s[46]++;exports.default=new Message();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1lc3NhZ2UuanMiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImtleSIsIkNvbnN0cnVjdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwicHJvdG90eXBlIiwiX21vbWVudCIsInJlcXVpcmUiLCJfbW9tZW50MiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfdXVpZCIsIl91dWlkMiIsIl9hc3luYyIsIl9hc3luYzIiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiVHlwZUVycm9yIiwiTWVzc2FnZSIsIm1lc3NhZ2VzIiwiY3JlYXRlIiwiZGF0YSIsIm5ld01lc3NhZ2UiLCJpZCIsInY0Iiwic3ViamVjdCIsIm1lc3NhZ2UiLCJwYXJlbnRNZXNzYWdlSWQiLCJzdGF0dXMiLCJjcmVhdGVkT24iLCJub3ciLCJwdXNoIiwiZmluZE9uZSIsImZpbmQiLCJtZXNzIiwiZmluZE1lc3NhZ2VzIiwicmVhZE1zZ3MiLCJlYWNoU2VyaWVzIiwiY3VycmVudCIsImNiIiwiZXJyIiwiZmluZEFsbCIsIl9kZWxldGUiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBQSxPQUFPQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QztBQUMzQ0MsU0FBTztBQURvQyxDQUE3Qzs7QUFJQSxJQUFJQyxlQUFlLFlBQVk7QUFBRSxXQUFTQyxnQkFBVCxDQUEwQkMsTUFBMUIsRUFBa0NDLEtBQWxDLEVBQXlDO0FBQUUsU0FBSyxJQUFJQyxJQUFJLENBQWIsRUFBZ0JBLElBQUlELE1BQU1FLE1B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cmNlUm9vdCI6Ii9ob21lL2dpcmFpY3QvUHJvamVjdC9hbmRlbGEvRVBJQ21haWwvYnVpbGQvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX21vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpO1xuXG52YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXG52YXIgX3V1aWQgPSByZXF1aXJlKCd1dWlkJyk7XG5cbnZhciBfdXVpZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91dWlkKTtcblxudmFyIF9hc3luYyA9IHJlcXVpcmUoJ2FzeW5jJyk7XG5cbnZhciBfYXN5bmMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXN5bmMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgTWVzc2FnZSA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIGNsYXNzIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhXG4gICAqL1xuICBmdW5jdGlvbiBNZXNzYWdlKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNZXNzYWdlKTtcblxuICAgIHRoaXMubWVzc2FnZXMgPSBbe1xuICAgICAgXCJpZFwiOiBcImFlMGY3MjRiLThmNmQtNDIzNC04NzdhLTE4NDhjYTQxMmY0MVwiLFxuICAgICAgXCJzdWJqZWN0XCI6IFwiSGlcIixcbiAgICAgIFwibWVzc2FnZVwiOiBcImNuIHVmanYgZGtcIixcbiAgICAgIFwicGFyZW50TWVzc2FnZUlkXCI6IFwiS0FMSVNBXCIsXG4gICAgICBcInN0YXR1c1wiOiBcIlVucmVhZFwiLFxuICAgICAgXCJjcmVhdGVkT25cIjogMTU1MTg3MTUyNzcyM1xuICAgIH0sIHtcbiAgICAgIFwiaWRcIjogXCJkMTA4MWFkYS00OWQ1LTRhMGEtYjk3ZS1lMTBiODViYTY4ZWJcIixcbiAgICAgIFwic3ViamVjdFwiOiBcIlRlc3RcIixcbiAgICAgIFwibWVzc2FnZVwiOiBcIkkgd2lsbCBjYW1lXCIsXG4gICAgICBcInBhcmVudE1lc3NhZ2VJZFwiOiBcIjM0NFwiLFxuICAgICAgXCJzdGF0dXNcIjogXCJTZW50XCIsXG4gICAgICBcImNyZWF0ZWRPblwiOiAxNTUxODcxNjA1MzY0XG4gICAgfV07XG4gIH1cbiAgLyoqXG4gICAqIFxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSBtZXNzYWdlIG9iamVjdFxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhNZXNzYWdlLCBbe1xuICAgIGtleTogJ2NyZWF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZShkYXRhKSB7XG4gICAgICB2YXIgbmV3TWVzc2FnZSA9IHtcbiAgICAgICAgaWQ6IF91dWlkMi5kZWZhdWx0LnY0KCksXG4gICAgICAgIHN1YmplY3Q6IGRhdGEuc3ViamVjdCB8fCAnJyxcbiAgICAgICAgbWVzc2FnZTogZGF0YS5tZXNzYWdlIHx8ICcnLFxuICAgICAgICBwYXJlbnRNZXNzYWdlSWQ6IGRhdGEucGFyZW50TWVzc2FnZUlkIHx8ICcnLFxuICAgICAgICBzdGF0dXM6IGRhdGEuc3RhdHVzIHx8ICcnLFxuICAgICAgICBjcmVhdGVkT246IF9tb21lbnQyLmRlZmF1bHQubm93KClcbiAgICAgIH07XG4gICAgICB0aGlzLm1lc3NhZ2VzLnB1c2gobmV3TWVzc2FnZSk7XG4gICAgICByZXR1cm4gbmV3TWVzc2FnZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHt1dWlkfSBpZFxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IG1lc3NhZ2Ugb2JqZWN0XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2ZpbmRPbmUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmaW5kT25lKGlkKSB7XG4gICAgICByZXR1cm4gdGhpcy5tZXNzYWdlcy5maW5kKGZ1bmN0aW9uIChtZXNzKSB7XG4gICAgICAgIHJldHVybiBtZXNzLmlkID09PSBpZDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2ZpbmRNZXNzYWdlcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZpbmRNZXNzYWdlcyhzdGF0dXMpIHtcbiAgICAgIHZhciByZWFkTXNncyA9IFtdO1xuICAgICAgX2FzeW5jMi5kZWZhdWx0LmVhY2hTZXJpZXModGhpcy5tZXNzYWdlcywgZnVuY3Rpb24gKGN1cnJlbnQsIGNiKSB7XG4gICAgICAgIGlmIChjdXJyZW50LnN0YXR1cyA9PSBzdGF0dXMpIHJlYWRNc2dzLnB1c2goY3VycmVudCk7XG4gICAgICAgIGNiKG51bGwpO1xuICAgICAgfSwgZnVuY3Rpb24gKGVycikge30pO1xuICAgICAgcmV0dXJuIHJlYWRNc2dzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSByZXR1cm5zIGFsbCBtZXNzYWdlc1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdmaW5kQWxsJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmluZEFsbCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2VzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7dXVpZH0gaWQgXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2RlbGV0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9kZWxldGUoaWQpIHtcbiAgICAgIHZhciBtZXNzYWdlID0gdGhpcy5maW5kT25lKGlkKTtcbiAgICAgIHZhciBpbmRleCA9IHRoaXMubWVzc2FnZXMuaW5kZXhPZihtZXNzYWdlKTtcbiAgICAgIHRoaXMubWVzc2FnZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWVzc2FnZTtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gbmV3IE1lc3NhZ2UoKTsiXX0=