{"version":3,"sources":["Message.js"],"names":["Message","create","req","res","console","log","body","subject","message","parentMessageId","status","send","MessageModel","getAll","messages","findAll","getOne","findOne","params","id","getUnread","findMessages","getSent","delete","mes"],"mappings":"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","sourceRoot":"/home/giraict/Project/andela/EPICmail/server/controllers","sourcesContent":["import MessageModel from '../models/Message';\n\nconst Message = {\n  /**\n   * \n   * @param {object} req \n   * @param {object} res\n   * @returns {object} message object \n   */\n  create(req, res) {\n    console.log('body', req.body)\n    if (!req.body.subject && !req.body.message && !req.body.parentMessageId && !req.body.status) {\n     \n      return res.status(400).send({'message': 'All fields are required'})\n    }\n    const message = MessageModel.create(req.body);\n    return res.status(201).send(message);\n  },\n  /**\n   * \n   * @param {object} req \n   * @param {object} res \n   * @returns {object} messages array\n   */\n  getAll(req, res) {\n    const messages = MessageModel.findAll();\n    return res.status(200).send(messages);\n  },\n  /**\n   * \n   * @param {object} req \n   * @param {object} res\n   * @returns {object} message object\n   */\n  getOne(req, res) {\n    const message = MessageModel.findOne(req.params.id);\n    if (!message) {\n      return res.status(400).send({'message': 'message not found'});\n    }\n    return res.status(200).send(message);\n  },\n  /**\n   * \n   * @param {object} req \n   * @param {object} res\n   * @returns {object} message object\n   */\n  getUnread(req, res) {\n    const messages = MessageModel.findMessages('Unread');\n    if (!messages) {\n      return res.status(400).send({'message': 'message not found'});\n    }\n    return res.status(200).send(messages);\n  },\n  /**\n   * \n   * @param {object} req \n   * @param {object} res\n   * @returns {object} message object\n   */\n  getSent(req, res) {\n    const messages = MessageModel.findMessages('Sent');\n    if (!messages) {\n      return res.status(400).send({'message': 'message not found'});\n    }\n    return res.status(200).send(messages);\n  },\n  /**\n   * \n   * @param {object} req \n   * @param {object} res \n   * @returns {void} return statuc code 204 \n   */\n  delete(req, res) {\n    const message = MessageModel.findOne(req.params.id);\n    if (!message) {\n      return res.status(400).send({'message': 'message not found'});\n    }\n    const mes = MessageModel.delete(req.params.id);\n    return res.status(200).send(mes);\n  }\n}\n\nexport default Message;\n"]}