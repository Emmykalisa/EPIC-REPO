{"version":3,"sources":["Message.js"],"names":["Object","defineProperty","exports","value","_Message","require","_Message2","_interopRequireDefault","obj","__esModule","default","Message","create","req","res","body","subject","message","parentMessageId","status","send","getAll","messages","findAll","getOne","findOne","params","id","getUnread","findMessages","getSent","delete","_delete","mes"],"mappings":"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","file":"Message.js","sourceRoot":"/home/giraict/Project/andela/EPICmail/build/controllers","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Message = require('../models/Message');\n\nvar _Message2 = _interopRequireDefault(_Message);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Message = {\n  /**\n   * \n   * @param {object} req \n   * @param {object} res\n   * @returns {object} message object \n   */\n  create: function create(req, res) {\n    if (!req.body.subject && !req.body.message && !req.body.parentMessageId && !req.body.status) {\n      return res.status(400).send({ 'message': 'All fields are required' });\n    }\n    var message = _Message2.default.create(req.body);\n    return res.status(200).send(message);\n  },\n\n  /**\n   * \n   * @param {object} req \n   * @param {object} res \n   * @returns {object} messages array\n   */\n  getAll: function getAll(req, res) {\n    var messages = _Message2.default.findAll();\n    return res.status(200).send(messages);\n  },\n\n  /**\n   * \n   * @param {object} req \n   * @param {object} res\n   * @returns {object} message object\n   */\n  getOne: function getOne(req, res) {\n    var message = _Message2.default.findOne(req.params.id);\n    if (!message) {\n      return res.status(400).send({ 'message': 'message not found' });\n    }\n    return res.status(200).send(message);\n  },\n\n  /**\n   * \n   * @param {object} req \n   * @param {object} res\n   * @returns {object} message object\n   */\n  getUnread: function getUnread(req, res) {\n    var messages = _Message2.default.findMessages('Unread');\n    if (!messages) {\n      return res.status(400).send({ 'message': 'message not found' });\n    }\n    return res.status(200).send(messages);\n  },\n\n  /**\n   * \n   * @param {object} req \n   * @param {object} res\n   * @returns {object} message object\n   */\n  getSent: function getSent(req, res) {\n    var messages = _Message2.default.findMessages('Sent');\n    if (!messages) {\n      return res.status(400).send({ 'message': 'message not found' });\n    }\n    return res.status(200).send(messages);\n  },\n\n  /**\n   * \n   * @param {object} req \n   * @param {object} res \n   * @returns {void} return statuc code 204 \n   */\n  delete: function _delete(req, res) {\n    var message = _Message2.default.findOne(req.params.id);\n    if (!message) {\n      return res.status(400).send({ 'message': 'message not found' });\n    }\n    var mes = _Message2.default.delete(req.params.id);\n    return res.status(200).send(mes);\n  }\n};\n\nexports.default = Message;"]}